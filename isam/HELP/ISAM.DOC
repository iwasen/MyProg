.context ISAM
:z3
:nＩＳＡＭライブラリ  関数一覧
:l48
                                                                    \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  データベース操作関数
    ｮ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢ｲ
    ､  db_open()       db_create()     db_create_from()              ､
    ､  db_close()      db_close_all()  db_flush()      db_flush_all()､
    ､  db_index()      db_idx_create() db_chgidx()     db_search()   ､
    ､  db_count()      db_store()      db_update()     db_delete()   ､
    ､  db_recall()     db_top()        db_bottom()     db_set()      ､
    ､  db_skip()       db_reindex()    db_pack()       db_read()     ､
    ､  db_copy()       db_delete2()    db_check_deleted()            ､
    ｶ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢ｺ

  データファイル操作関数
    ｮ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢ｲ
    ､  dbf_open()      dbf_create()    dbf_read()      dbf_write()   ､
    ､  dbf_close()     dbf_flush()     dbf_delete()    dbf_recall()  ､
    ､  dbf_pack()      dbf_check_deleted()             dbf_copy()    ､
    ｶ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢ｺ

  インデックスファイル操作関数
    ｮ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢ｲ
    ､  idx_open()      idx_create()    idx_setinfo()   idx_read()    ､
    ､  idx_getblk()    idx_write()     idx_close()     idx_flush()   ､
    ､  idx_search()    idx_compare()   idx_store()     idx_delete()  ､
    ､  idx_next()      idx_back()      idx_top()       idx_bottom()  ､
    ､  idx_count()                                                   ､
    ｶ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢ｺ

  ソート関連処理
    ｮ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢ｲ
    ､  dbf_sort()      idx_make()                                    ､
    ｶ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢ｺ

  ｄＢＡＳＥⅢ互換関数
    ｮ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢ｲ
    ､  db_reccount()   db_bof()        db_dbf()        db_eof()      ､
    ､  db_field()      db_ndx()        db_recno()      db_recsize()  ､
    ､  set_deleted()                                                 ､
    ｶ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢ｺ

  共通サブルーチン
    ｮ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢ｲ
    ､  db_err_handler()                db_err()        natof()       ､
    ､  natoi()         get_key()       get_field()                   ､
    ｶ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢ｺ

                                  -・-
.context IDX_H
:z2
:l19
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢
/*      インデックス（ＮＤＸ）ファイルのヘッダ  */
struct  idx_h   {
        long    root;           /* ルートのブロックＮｏ． */
        long    n_block;        /* ブロック数 */
        long    dummy1;         /* */
        int     l_key;          /* キーの長さ */
        int     order;          /* 次数 */
        int     type;           /* データ種別 */
        int     l_rec;          /* １レコードの長さ */
        int     dummy2;         /* */
        int     uniq;           /* ユニークフラグ */
        char    index[100];     /* インデックス表現式 */
        char    work[388];      /* ワークエリア */
};
typedef struct  idx_h   IDX_H;

                                  -・-
.context IDX_B
:z2
:l14
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢
/*      インデックスブロック情報        */
struct  idx_b   {
        char    block[BLOCK_SIZE];      /* ブロック情報 */
        char    work[104];      /* 追加用ワークエリア */
        long    bno;            /* ブロックＮｏ． */
        int     cp;             /* カレントポインタ */
        struct  idx_b   *fwp;   /* チェインポインタ */
        struct  idx_b   *bwp;   /* チェインポインタ */
};
typedef struct  idx_b   IDX_B;

                                  -・-
.context IDX
:z2
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢
/*      インデックスファイル管理情報    */
struct  idx     {
        char    file_name[80];  /* ファイル名 */
        FILE    *fp;            /* ファイルポインタ */
        IDX_H   *ihp;           /* ヘッダ情報ポインタ */
        IDX_B   *bp;            /* カレントブロック情報ポインタ */
        IDX_B   *top;           /* ブロック情報ポインタ */
        IDX_B   *bottom;        /* ブロック情報ポインタ */
        char    *keyp;          /* キーポインタ */
        int     w_flag;         /* ヘッダ書き込みフラグ */
};
typedef struct  idx     IDX;

                                  -・-
.context DBF_H
:z2
:l14
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢
/*      データ（ＤＢＦ）ファイルのヘッダ        */
struct  dbf_h   {
        char    flag;           /* データベーステキストファイル保有フラグ */
        char    date[3];        /* 最終更新日 */
        long    n_rec;          /* レコード数 */
        int     l_header;       /* ヘッダ部の長さ */
        int     l_rec;          /* １レコードの長さ */
        char    reserve[20];    /* システム予約領域 */
};
typedef struct  dbf_h   DBF_H;

                                  -・-
.context FIELD
:z2
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢
/*      フィールド情報  */
struct  field   {
        char    name[11];       /* フィールド名 */
        char    type;           /* フィールド形式 */
        char    far *fad;       /* フィールド情報内容のメモリ内アドレス */
        u_char  l_field;        /* フィールド長 */
        u_char  l_dec;          /* 小数位桁数 */
        char    reserve1[5];    /* システム予約領域 */
        char    flag;           /* SET FIELDS ON/OFF の設定フラグ */
        char    reserve2[8];    /* システム予約領域 */
};
typedef struct  field   FIELD;

                                  -・-
.context DBF
:z2
:l17
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢
/*      データファイル管理情報  */
struct  dbf     {
        char    file_name[80];  /* ファイル名 */
        FILE    *fp;            /* ファイルポインタ */
        DBF_H   *dhp;           /* ヘッダ情報へのポインタ */
        FIELD   *flp;           /* フィールド情報へのポインタ */
        int     n_field;        /* フィールド数 */
        char    *rbp;           /* レコードバッファへのポインタ */
        long    rno;            /* カレントレコードＮｏ． */
        int     update;         /* 更新フラグ */
        int     w_flag;         /* ヘッダ書き込みフラグ */
};
typedef struct  dbf     DBF;

                                  -・-
.context DB
:z2
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢
/*      データベース管理情報    */
struct  db      {
        DBF     *dp;            /* データファイル情報 */
        IDX     *ip[MAX_IDX+1]; /* インデックスファイル情報 */
        int     master;         /* マスターインデックス */
        int     n_idx;          /* インデックスファイル数 */
        long    rno;            /* カレントレコードＮｏ． */
        int     bof;            /* ＢＯＦフラグ */
        int     eof;            /* ＥＯＦフラグ */
        struct  db      *chain; /* チェインポインタ */
};
typedef struct  db      DB;

                                  -・-
.context DBF_I
:z2
:l12
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢
/*      データファイル作成情報  */
struct  dbf_i   {
        char    name[11];       /* フィールド名 */
        char    type;           /* フィールド形式 */
        u_char  l_field;        /* フィールド長 */
        u_char  l_dec;          /* 小数位桁数 */
};
typedef struct  dbf_i   DBF_I;

                                  -・-
.context db_open
:z3
:l15
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   DB     *db_open(file_name);

  \bパラメータ\b     char   *file_name; データベース（ＤＢＦ）ファイル名

  \bリターン値\p     ＤＢポインタ（オープンエラーの場合はＮＵＬＬが返る）

  \b機能\b           データベースをオープンします。

  \b関連する関数\p   db_close(), db_create()
                                  -・-
.context db_create
:z3
:l18
  \i<\p\a一覧\vISAM\v\i>\p \i<\p\a補足説明\vdb_create.des\v\i>\p                                                 \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   DB     *db_create(dbf_file_name, dip, n_field);

  \bパラメータ\b     char   *dbf_file_name;  データベース（ＤＢＦ）ファイル名
\p\p                 DBF_I  *dip;            フィールド情報
\p\p                 int    n_field;         フィールド数

  \bリターン値\p     ＤＢポインタ（オープンエラーの場合はＮＵＬＬが返る）

  \b機能\b           <dip> の内容に従って新たにデータベースを作成します。
\p\p                 （dip については補足説明参照）

  \b関連する関数\p   db_create_from()
                                  -・-
.context db_create.des
:z3
:ndb_create() 補足説明
:l43
  \i<\p\a一覧\vISAM\v\i>\p \i<\p\a概要\vdb_create\v\i>\p                                                     \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  db_create() を使ってデータファイルを作成する場合は、フィールド情報を予めメ
モリ上に用意しておかなければなりません。フィールド情報の形式は次の通りです。

        struct  dbf_i   {
                char    name[11];       /* フィールド名 */
                char    type;           /* フィールド形式 */
                u_char  l_field;        /* フィールド長 */
                u_char  l_dec;          /* 小数位桁数 */
        };
        typedef struct  dbf_i   DBF_I;

        name    フィールド名を最大１０文字以内で指定します。文字列の最後には
                ＮＵＬＬが必要です。
        type    フィールドの形式を指定します。指定できるのは以下の文字です。
                  'C'  文字型
                  'N'  数値型
                  'D'  日付型
                  'L'  論理型
        l_field フィールド長を指定します。
        l_dec   数値型の場合、小数部の桁数を指定します。数値型以外の場合は無
                視されます。

使用例

  次のようなフィールドを持つデータファイル（ＡＧＥ．ＤＢＦ）を作成します。

  フィールド名   形式   フィールド長  小数部桁数
    NUMBER      数値型       ４           ０
    NAME        文字型     ２０           －
    AGE         数値型       ３           ０


        static  DBF_I   field[3] = {
                {"NUMBER", 'N',  4, 0},
                {"NAME",   'C', 20, 0},
                {"AGE",    'N',  3, 0}
        };

        dbp = db_create("AGE.DBF", field, 3);
                                  -・-
.context db_create_from
:z3
:l17
  \i<\p\a一覧\vISAM\v\i>\p \i<\p\a補足説明\vdb_create_from.des\v\i>\p                                                 \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   DB     *db_create_from(dbf_file_name, str_file_name);

  \bパラメータ\b     char   *dbf_file_name;  データベース（ＤＢＦ）ファイル名
\p\p                 char   *str_file_name;  構造ファイル名

  \bリターン値\p     ＤＢポインタ（オープンエラーの場合はＮＵＬＬが返る）

  \b機能\b           構造ファイルの内容に従って新たにデータベースを作成しま
\p\p                 す。（構造ファイルについては補足説明参照）

  \b関連する関数\p   db_create()
                                  -・-
.context db_create_from.des
:z3
:ndb_create_from() 補足説明
:l14
  \i<\p\a一覧\vISAM\v\i>\p \i<\p\a概要\vdb_create_from\v\i>\p                                                     \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  db_create_from() はフィールドの情報を定義した構造ファイルより、その情報に
従って新たにデータファイルを作成するものです。構造ファイル自体もＤＢＦファ
イルで、その形式は次のようになっています。（ｄＢＡＳＥⅢｐｌｕｓで使用する
構造ファイルと同じ形式です）

  フィールド名    形式   フィールド長  小数部桁数
   FIELD_NAME    文字型      １０          －
   FIELD_TYPE    文字型        １          －
   FIELD_LEN     数値型        ３          ０
   FIELD_DEC     数値型        ３          ０
                                  -・-
.context db_close
:z3
:l15
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_close(dbp);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ

  \bリターン値\p     なし

  \b機能\b           指定されたデータベースをクローズします。

  \b関連する関数\p   db_open(), db_close_all()
                                  -・-
.context db_close_all
:z3
:l15
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_close_all();

  \bパラメータ\b     なし

  \bリターン値\p     なし

  \b機能\b           現在オープン中のデータベースをすべてクローズします。

  \b関連する関数\p   db_close()
                                  -・-
.context db_flush
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_flush(dbp);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ

  \bリターン値\p     なし

  \b機能\b           指定されたデータベースのファイルバッファに残っている未
\p\p                 書き込みのデータを強制的にファイルに書き出します。

  \b関連する関数\p   db_flush_all()
                                  -・-
.context db_flush_all
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_flush_all();

  \bパラメータ\b     なし

  \bリターン値\p     なし

  \b機能\b           現在オープン中のすべてのデータベースについてバッファを
\p\p                 フラッシュします。

  \b関連する関数\p   db_flush()
                                  -・-
.context db_index
:z3
:l21
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   int    db_index(dbp, file_name);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ
\p\p                 char   *file_name; インデックス（ＮＤＸ）ファイル名

  \bリターン値\p     インデックスファイル番号
\p\p                  （オープンエラーのときは０が返る）

  \b機能\b           インデックスファイルをオープンします。一つのデータベー
\p\p                 スに対して１０個までオープンできますが、最初にオープン
\p\p                 したインデックスがマスターインデックスとなります。リタ
\p\p                 ーン値としてインデックスファイル番号（オープンした順に
\p\p                 １から１０まで）が返ります。

  \b関連する関数\p   db_chgidx(), db_idx_create()
                                  -・-
.context db_idx_create
:z3
:l21
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   int    db_idx_create(dbp, file_name, key, uniq);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ
\p\p                 char   *file_name; インデックス（ＮＤＸ）ファイル名
\p\p                 char   *key;       インデックスのキー
\p\p                 int    uniq;       ０：キーの重複を許す  １：許さない

  \bリターン値\p     インデックスファイル番号
\p\p                  （オープンエラーのときは０が返る）

  \b機能\b           インデックスファイルを新たに作成します。インデックスの
\p\p                 キーとしてはデータファイルのフィールド名及びフィールド
\p\p                 名を + で連結したものが許されます。

  \b関連する関数\p   db_index()
                                  -・-
.context db_chgidx
:z3
:l18
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_chgidx(dbp, n);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ
\p\p                 int    n;          インデックスファイル番号

  \bリターン値\p     なし

  \b機能\b           指定されたインデックスファイルをマスターインデックスと
\p\p                 します。ただし、０が指定された場合はインデックスを使用
\p\p                 しません。

  \b関連する関数\p   db_index()
                                  -・-
.context db_search
:z3
:l19
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_search(dbp, key, len);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ
\p\p                 char   *key;       検索する文字列
\p\p                 int    len;        検索する文字列の長さ

  \bリターン値\p     なし

  \b機能\b           インデックスファイルによる検索を行い、カレントレコード
\p\p                 ポインタをセットします。インデックスファイルがオープン
\p\p                 されていない場合は検索できません。

  \b関連する関数\p   db_count()
                                  -・-
.context db_count
:z3
:l17
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_count(dbp, key, len);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ
\p\p                 char   *key;       検索する文字列
\p\p                 int    len;        検索する文字列の長さ

  \bリターン値\p     なし

  \b機能\b           キーに一致するレコード数を求めます。

  \b関連する関数\p   db_search()
                                  -・-
.context db_store
:z3
:l17
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_store(dbp, rec);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ
\p\p                 char   *rec;       追加するレコードデータへのポインタ

  \bリターン値\p     なし

  \b機能\b           データベースにレコードを追加します。インデックスファイ
\p\p                 ルがオープンされている場合は、同時に更新されます。

  \b関連する関数\p   db_update()
                                  -・-
.context db_update
:z3
:l17
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_update(dbp, rec);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ
\p\p                 char   *rec;       更新するレコードデータへのポインタ

  \bリターン値\p     なし

  \b機能\b           カレントレコードを更新（置き換え）します。インデックス
\p\p                 ファイルがオープンされている場合は、同時に更新されます。

  \b関連する関数\p   db_store(), db_read()
                                  -・-
.context db_delete
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_delete(dbp);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ

  \bリターン値\p     なし

  \b機能\b           カレントレコードを削除します。実際にはレコードに削除マ
\p\p                 ークをつけるだけで、レコードそのものは削除しません。

  \b関連する関数\p   db_recall(), db_pack(), set_deleted(), db_delete2()
                                  -・-
.context db_delete2
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_delete2(dbp);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ

  \bリターン値\p     なし

  \b機能\b           カレントレコードをデータファイル及びインデックスファイ
\p\p                 ルから物理的に削除します。

  \b関連する関数\p   db_delete()
                                  -・-
.context db_recall
:z3
:l15
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_recall(dbp);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ

  \bリターン値\p     なし

  \b機能\b           カレントレコードの削除マークを取り消します。

  \b関連する関数\p   db_delete(), db_pack()
                                  -・-
.context db_top
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_top(dbp);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ

  \bリターン値\p     なし

  \b機能\b           カレントレコードポインタを先頭レコード（インデックスフ
\p\p                 ァイルがある場合は論理的な先頭レコード）にセットします。

  \b関連する関数\p   db_bottom(), db_set(), db_skip()
                                  -・-
.context db_bottom
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_bottom(dbp);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ

  \bリターン値\p     なし

  \b機能\b           カレントレコードポインタを最終レコード（インデックスフ
\p\p                 ァイルがある場合は論理的な最終レコード）にセットします。

  \b関連する関数\p   db_top(), db_set(), db_skip()
                                  -・-
.context db_set
:z3
:l17
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_set(dbp, recno);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ
\p\p                 long   recno;      レコード番号

  \bリターン値\p     なし

  \b機能\b           カレントレコードポインタを指定されたレコード番号にセッ
\p\p                 トします。

  \b関連する関数\p   db_top(), db_bottom(), db_skip()
                                  -・-
.context db_skip
:z3
:l17
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_skip(dbp, n);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ
\p\p                 long   n;          移動レコード数（プラスの場合は後ろへ
\p\p                                    マイナスの場合は前へ移動する）

  \bリターン値\p     なし

  \b機能\b           カレントレコードポインタを前後に移動させます。

  \b関連する関数\p   db_top(), db_bottom(), db_set()
                                  -・-
.context db_reindex
:z3
:l15
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_reindex(dbp);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ

  \bリターン値\p     なし

  \b機能\b           現在オープン中のインデックスファイルを再構築します。

  \b関連する関数\p
                                  -・-
.context db_pack
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_pack(dbp);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ

  \bリターン値\p     なし

  \b機能\b           削除レコードをファイルから削除する。インデックスファイ
\p\p                 ルは再構築されます。

  \b関連する関数\p   db_reindex()
                                  -・-
.context db_read
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_read(dbp, p);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ
\p\p                 char   *p;         レコード読み込みバッファ

  \bリターン値\p     なし

  \b機能\b           カレントレコードを指定されたバッファに読み出します。

  \b関連する関数\p
                                  -・-
.context db_copy
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_copy(dbp1, dbp2);

  \bパラメータ\b     DB     *dbp1;      コピー元ＤＢポインタ
\p\p                 char   *dbp2;      コピー先ＤＢポインタ

  \bリターン値\p     なし

  \b機能\b           データファイルをコピーします。

  \b関連する関数\p
                                  -・-
.context db_check_deleted
:z3
:l18
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   int    db_check_deleted(dbp);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ

  \bリターン値\p     なし

  \b機能\b           カレントレコードに削除マークがセットされているかチェッ
\p\p                 クします。

  \bリターン値\p     ０：通常レコード  １：削除レコード

  \b関連する関数\p
                                  -・-
.context dbf_open
:z3
:l15
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   DBF    *dbf_open(file_name)

  \bパラメータ\b     char   *file_name; ＤＢＦファイル名

  \bリターン値\p     ＤＢＦポインタ（エラーの場合はＮＵＬＬが返る）

  \b機能\b           データ（ＤＢＦ）ファイルをオープンします。

  \b関連する関数\p   dbf_close(), dbf_create()
                                  -・-
.context dbf_create
:z3
:l17
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   DBF    *dbf_create(file_name, dip, n_field);

  \bパラメータ\b     char   *file_name; ＤＢＦファイル名
\p\p                 DBF_I  *dip;       フィールド情報
\p\p                 int    n_field;    フィールド数

  \bリターン値\p     ＤＢＦポインタ（エラーの場合はＮＵＬＬが返る）

  \b機能\b           データ（ＤＢＦ）ファイルを新たに作成します。

  \b関連する関数\p   dbf_open()
                                  -・-
.context dbf_read
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   dbf_read(dp, rno);

  \bパラメータ\b     DBF    *dp;        ＤＢＦポインタ
\p\p                 long   rno;        読み出すレコード番号

  \bリターン値\p     なし

  \b機能\b           指定されたレコードをレコードバッファに読み込みます。

  \b関連する関数\p   dbf_write()
                                  -・-
.context dbf_write
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   dbf_write(dp, rno);

  \bパラメータ\b     DBF    *dp;        ＤＢＦポインタ
\p\p                 long   rno;        書き込むレコード番号

  \bリターン値\p     なし

  \b機能\b           レコードバッファの内容を指定されたレコードに書き込みます。

  \b関連する関数\p   dbf_read()
                                  -・-
.context dbf_close
:z3
:l15
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   dbf_close(dp);

  \bパラメータ\b     DBF    *dp;        ＤＢＦポインタ

  \bリターン値\p     なし

  \b機能\b           データ（ＤＢＦ）ファイルをクローズします。

  \b関連する関数\p   dbf_open()
                                  -・-
.context dbf_flush
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   dbf_flush(dp);

  \bパラメータ\b     DBF    *dp;        ＤＢＦポインタ

  \bリターン値\p     なし

  \b機能\b           未書き込みのファイルバッファの内容をファイルに書き出し
\p\p                 ます。

  \b関連する関数\p
                                  -・-
.context dbf_delete
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   dbf_delete(dp, rno);

  \bパラメータ\b     DBF    *dp;        ＤＢＦポインタ
\p\p                 long   rno;        レコード番号

  \bリターン値\p     なし

  \b機能\b           指定されたレコードに削除マークをセットします。

  \b関連する関数\p   dbf_recall(), dbf_pack()
                                  -・-
.context dbf_recall
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   dbf_recall(dp, rno);

  \bパラメータ\b     DBF    *dp;        ＤＢＦポインタ
\p\p                 long   rno;        レコード番号

  \bリターン値\p     なし

  \b機能\b           指定されたレコードの削除マークを取り消します。

  \b関連する関数\p   dbf_delete(), dbf_pack()
                                  -・-
.context dbf_pack
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   dbf_pack(dp);

  \bパラメータ\b     DBF    *dp;        ＤＢＦポインタ

  \bリターン値\p     なし

  \b機能\b           削除マークがセットされているレコードをファイルから削除
\p\p                 します。

  \b関連する関数\p   dbf_delete(), dbf_recall()
                                  -・-
.context dbf_check_deleted
:z3
:l17
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   int    dbf_check_deleted(dp, rno);

  \bパラメータ\b     DBF    *dp;        ＤＢＦポインタ
\p\p                 long   rno;        レコード番号

  \bリターン値\p     ０：通常レコード  １：削除レコード

  \b機能\b           指定されたレコードに削除マークがセットされているかチェ
\p\p                 ックします。

  \b関連する関数\p   dbf_delete(), dbf_recall()
                                  -・-
.context dbf_copy
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   dbf_copy(dp1, dp2);

  \bパラメータ\b     DBF    *dp1;       コピー元ＤＢＦポインタ
\p\p                 DBF    *dp2;       コピー先ＤＢＦポインタ

  \bリターン値\p     なし

  \b機能\b           データファイルをコピーします。

  \b関連する関数\p
                                  -・-
.context idx_open
:z3
:l15
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   IDX    *idx_open(file_name);

  \bパラメータ\b     char   *file_name; インデックス（ＮＤＸ）ファイル名

  \bリターン値\p     ＩＤＸポインタ（エラーの場合はＮＵＬＬが返る）

  \b機能\b           インデックス（ＮＤＸ）ファイルをオープンします。

  \b関連する関数\p   idx_close(), idx_create()
                                  -・-
.context idx_create
:z3
:l17
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   IDX    *idx_create(file_name, key, uniq);

  \bパラメータ\b     char   *file_name; インデックスファイル名
\p\p                 char   *key;       インデックスキー
\p\p                 int    uniq;       ０：キーの重複を許す  １：許さない

  \bリターン値\p     ＩＤＸポインタ（エラーの場合はＮＵＬＬが返る）

  \b機能\b           インデックスファイルを新たに作成します。

  \b関連する関数\p   idx_open()
                                  -・-
.context idx_setinfo
:z3
:l17
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   idx_setinfo(ip, type, len);

  \bパラメータ\b     IDX    *ip;        ＩＤＸポインタ
\p\p                 int    type;       データタイプ  ０：文字型  １：数値型
\p\p                 int    len;        キーの長さ

  \bリターン値\p     なし

  \b機能\b           インデックスファイルのヘッダー情報を設定します。

  \b関連する関数\p   idx_create()
                                  -・-
.context idx_read
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   IDX_B  *idx_read(ip, bno);

  \bパラメータ\b     IDX    *ip;        ＩＤＸポインタ
\p\p                 long   bno;        ブロック番号

  \bリターン値\p     読み込んだブロック情報へのポインタ

  \b機能\b           インデックスファイルの指定されたブロックを読み込みます。

  \b関連する関数\p   idx_getblk(), idx_write()
                                  -・-
.context idx_getblk
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   IDX_B  *idx_getblk(ip, bno);

  \bパラメータ\b     IDX    *ip;        ＩＤＸポインタ
\p\p                 long   bno;        ブロック番号

  \bリターン値\p     確保したブロック情報エリアへのポインタ

  \b機能\b           ブロック情報エリアを確保します。

  \b関連する関数\p   idx_read(), idx_write()
                                  -・-
.context idx_write
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   idx_write(ip, bp);

  \bパラメータ\b     IDX    *ip;        ＩＤＸポインタ
\p\p                 IDX_B  *bp;        ブロック情報ポインタ

  \bリターン値\p     なし

  \b機能\b           インデックスファイルに指定されたブロックを書き込みます。

  \b関連する関数\p   idx_read(), idx_getblk()
                                  -・-
.context idx_close
:z3
:l15
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   idx_close(ip);

  \bパラメータ\b     IDX    *ip;        ＩＤＸポインタ

  \bリターン値\p     なし

  \b機能\b           指定されたインデックスファイルをクローズします。

  \b関連する関数\p   idx_open()
                                  -・-
.context idx_flush
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   idx_flush(ip);

  \bパラメータ\b     IDX    *ip;        ＩＤＸポインタ

  \bリターン値\p     なし

  \b機能\b           未書き込みのファイルバッファの内容をファイルに書き出し
\p\p                 ます。

  \b関連する関数\p
                                  -・-
.context idx_search
:z3
:l19
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   long   idx_search(ip, key, len);

  \bパラメータ\b     IDX    *ip;        ＩＤＸポインタ
\p\p                 char   *key;       検索するキーへのポインタ
\p\p                 int    len;        キーの長さ

  \bリターン値\p     一致したキーの存在するレコード番号
\p\p                  見つからなかった場合は０を返す

  \b機能\b           インデックスファイルを指定されたキーで検索し、一致する
\p\p                 キーが見つかった場合そのレコード番号を返します。

  \b関連する関数\p   idx_compare()
                                  -・-
.context idx_compare
:z3
:l19
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   int    idx_compare(ip, key, len);

  \bパラメータ\b     IDX    *ip;        ＩＤＸポインタ
\p\p                 char   *key;       比較するキーへのポインタ
\p\p                 int    len;        キーの長さ

  \bリターン値\p       ０：キーが一致
\p\p                   １：指定したキーの方が大きい
\p\p                 －１：指定したキーの方が小さい

  \b機能\b           指定されたキーとインデックスファイルのキーを比較します。

  \b関連する関数\p   idx_search(), idx_count()
                                  -・-
.context idx_store
:z3
:l17
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   idx_store(ip, key, rno);

  \bパラメータ\b     IDX    *ip;        ＩＤＸポインタ
\p\p                 char   *key;       追加するキーへのポインタ
\p\p                 long   rno;        レコード番号

  \bリターン値\p     なし

  \b機能\b           インデックスファイルにキーを追加します。

  \b関連する関数\p   idx_delete()
                                  -・-
.context idx_delete
:z3
:l15
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   idx_delete(ip);

  \bパラメータ\b     IDX    *ip;        ＩＤＸポインタ

  \bリターン値\p     なし

  \b機能\b           インデックスファイルのキーを削除します。

  \b関連する関数\p   idx_store()
                                  -・-
.context idx_next
:z3
:l15
      \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   long   idx_next(ip);

  \bパラメータ\b     IDX    *ip;        ＩＤＸポインタ

  \bリターン値\p     次のレコード番号（次のレコードがない場合は０を返す）

  \b機能\b           インデックスファイルより次のレコード番号を取り出します。

  \b関連する関数\p   idx_back()
                                  -・-
.context idx_back
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   long   idx_back(ip);

  \bパラメータ\b     IDX    *ip;        ＩＤＸポインタ

  \bリターン値\p     一つ前のレコード番号（前のレコードがない場合は０を返す）

  \b機能\b           インデックスファイルより一つ前のレコード番号を取り出し
\p\p                 ます。

  \b関連する関数\p   idx_next()
                                  -・-
.context idx_top
:z3
:l15
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   long   idx_top(ip);

  \bパラメータ\b     IDX    *ip;        ＩＤＸポインタ

  \bリターン値\p     先頭のレコード番号（レコードが１件もない場合は０を返す）

  \b機能\b           インデックスファイルより先頭レコード番号を取り出します。

  \b関連する関数\p   idx_bottom()
                                  -・-
.context idx_bottom
:z3
:l15
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   long   idx_bottom(ip);

  \bパラメータ\b     IDX    *ip;        ＩＤＸポインタ

  \bリターン値\p     最終のレコード番号（レコードが１件もない場合は０を返す）

  \b機能\b           インデックスファイルより最終レコード番号を取り出します。

  \b関連する関数\p   idx_top()
                                  -・-
.context idx_count
:z3
:l18
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   long   idx_count(ip, key, len);

  \bパラメータ\b     IDX    *ip;        ＩＤＸポインタ
\p\p                 char   *key;       検索するキーへのポインタ
\p\p                 int    len;        キーの長さ

  \bリターン値\p     一致したキーの件数

  \b機能\b           インデックスファイルより、指定されたキーに一致するレコ
\p\p                 ードの数を求めます。

  \b関連する関数\p   idx_search()
                                  -・-
.context dbf_sort
:z3
:l18
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   dbf_sort(dp, file_name, key);

  \bパラメータ\b     DBF    *dp;        ＤＢＦポインタ
\p\p                 char   *file_name; 出力ファイル名
\p\p                 char   *key;       ソートするキーへのポインタ

  \bリターン値\p     なし

  \b機能\b           ＤＢＦファイルを指定されたキーでソートし、新たなＤＢＦ
\p\p                 ファイルを作成します。

  \b関連する関数\p
                                  -・-
.context idx_make
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   idx_make(dp, ip);

  \bパラメータ\b     DBF    *dp;        ＤＢＦポインタ
\p\p                 IDX    *ip;        ＩＤＸポインタ

  \bリターン値\p     なし

  \b機能\b           インデックスファイルを再構築します。

  \b関連する関数\p
                                  -・-
.context db_reccount
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   long   db_reccount(dbp);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ

  \bリターン値\p     レコード数

  \b機能\b           指定されたデータベースのレコード数を取り出します。
\p\p                 （削除マークのついたレコードも含む）

  \b関連する関数\p
                                  -・-
.context db_bof
:z3
:l15
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   int    db_bof(dbp);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ

  \bリターン値\p     ０：ＢＯＦでない  １：ＢＯＦである

  \b機能\b           カレントレコードポインタがＢＯＦであるか調べます。

  \b関連する関数\p   db_eof()
                                  -・-
.context db_dbf
:z3
:l15
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   char   *db_dbf(dbp);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ

  \bリターン値\p     ＤＢＦファイル名

  \b機能\b           データベースのファイル（ＤＢＦ）名を取り出します。

  \b関連する関数\p   db_ndx()
                                  -・-
.context db_eof
:z3
:l15
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   int    db_eof(dbp);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ

  \bリターン値\p     ０：ＥＯＦでない  １：ＥＯＦである

  \b機能\b           カレントレコードポインタがＥＯＦであるか調べます。

  \b関連する関数\p   db_bof()
                                  -・-
.context db_field
:z3
:l17
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   char   *db_field(dbp, n);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ
\p\p                 int    n;          フィールド番号

  \bリターン値\p     フィールド名

  \b機能\b           マスターインデックスファイルのフィールド名を取り出し
\p\p                 ます。

  \b関連する関数\p   db_ndx()
                                  -・-
.context db_ndx
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   char   *db_ndx(dbp, n);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ
\p\p                 int    n;          インデックスファイル番号

  \bリターン値\p     インデックスファイル名

  \b機能\b           インデックスファイル名を取り出します。

  \b関連する関数\p   db_field()
                                  -・-
.context db_recno
:z3
:l15
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   long   db_recno(dbp);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ

  \bリターン値\p     カレントレコード番号

  \b機能\b           カレントレコード番号を取り出します。

  \b関連する関数\p
                                  -・-
.context db_recsize
:z3
:l15
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   int    db_recsize(dbp);

  \bパラメータ\b     DB     *dbp;       ＤＢポインタ

  \bリターン値\p     レコード長

  \b機能\b           レコード長を取り出します。

  \b関連する関数\p
                                  -・-
.context set_deleted
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   set_deleted(flag);

  \bパラメータ\b     int    flag;       ０：削除レコードも処理の対象とする
\p\p                                    １：削除レコードは処理の対象としない

  \bリターン値\p     なし

  \b機能\b           削除レコードを処理の対象とするかどうかを設定します。

  \b関連する関数\p   db_delete()
                                  -・-
.context db_err_handler
:z3
:l18
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_err_handler(func);

  \bパラメータ\b     void   (*func)();  エラー処理関数へのポインタ

  \bリターン値\p     なし

  \b機能\b           エラー処理ルーチンを設定します。以後、ライブラリ内でエ
\p\p                 ラーが発生した場合、func で指定したエラー処理関数が呼ば
\p\p                 れます。エラー処理関数にはパラメータとしてエラーコード
\p\p                 が渡されます。

  \b関連する関数\p   db_err()
                                  -・-
.context db_err
:z3
:l17
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   void   db_err(err_code);

  \bパラメータ\b     int    err_code;   エラーコード

  \bリターン値\p     なし

  \b機能\b           ライブラリ内でエラーが発生した場合呼ばれます。エラーコ
\p\p                 ードを外部変数 _db_err_code にセットし、エラーハンドラ
\p\p                 がセットされていた場合、それを呼び出します。

  \b関連する関数\p   db_err_handler()
                                  -・-
.context natof
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   double natof(str, len);

  \bパラメータ\b     char   *str;       文字列へのポインタ
\p\p                 int    len;        文字列の長さ

  \bリターン値\p     実数値

  \b機能\b           指定された長さの数字の文字列を実数型のデータに変換します。

  \b関連する関数\p   natoi()
                                  -・-
.context natoi
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   int    natoi(str, len);

  \bパラメータ\b     char   *str;       文字列へのポインタ
\p\p                 int    len;        文字列の長さ

  \bリターン値\p     整数値

  \b機能\b           指定された長さの数字の文字列を整数型のデータに変換します。

  \b関連する関数\p   natof()
                                  -・-
.context get_key
:z3
:l18
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   int    get_key(dp, ihp, kp);

  \bパラメータ\b     DBF    *dp;        ＤＢＦポインタ
\p\p                 IDX_H  *ihp;       ＩＤＸ＿Ｈポインタ
\p\p                 char   *kp;        キーを格納するエリア

  \bリターン値\p     ０：表現式が正しくない  １：正常

  \b機能\b           インデックスファイルのキー表現式に従ってレコードより
\p\p                 キーを取り出します。

  \b関連する関数\p
                                  -・-
.context get_field
:z3
:l16
  \i<\p\a一覧\vISAM\v\i>\p                                                            \i<\a\pBack\v!cq.hb\v\i>\p
  ｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

  \bインクルード\p   "isam.h"

  \bプロトタイプ\p   FIELD  *get_field(dp, field);

  \bパラメータ\b     DBF    *dp;        ＤＢＦポインタ
\p\p                 char   *field;     フィールド名

  \bリターン値\p     フィールド情報へのポインタ

  \b機能\b           フィールド名よりそのフィールド情報へのポインタを返します。

  \b関連する関数\p
                                  -・-
